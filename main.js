(()=>{var e={155:e=>{document.getElementById("canvas-container");const t=document.getElementById("console-display"),n=t.getContext("2d"),o="#340f20";let a={};function i(e){n.lineJoin="round",n.lineWidth=3,n.strokeStyle=o,a[e.boundKey]&&(n.fillStyle="#b14c6c09",n.strokeStyle="#b14c6c",n.fillRect(...e.buttonBounds)),n.strokeRect(...e.buttonBounds),n.fillStyle=o,n.fillText(e.displayName,...e.textBounds)}e.exports={updateState(e){a=Object.assign(a,e)},clearState(){a={}},render(e){requestAnimationFrame((()=>{return a=e,n.font=`bold ${Math.floor(n.canvas.width/40)}px Poiret One`,n.fillStyle=o,n.clearRect(0,0,t.width,t.height),void a.forEach(i);var a}))}}},626:e=>{let t;const n={};function o(e,t,n){const o=e.createOscillator();o.type="sawtooth",o.frequency.value=110,o.start();const a=e.createBiquadFilter();a.type="bandpass",a.frequency.value=(t+n)/2,a.Q.value=(t+n)/2/(n-t);const i=e.createGain();return i.gain.value=0,o.connect(a),a.connect(i),i.connect(e.destination),{start(){i.gain.setTargetAtTime(.75,e.currentTime,.015)},stop(){i.gain.setTargetAtTime(0,e.currentTime,.015)},panic(){i.gain.cancelScheduledValues(e.currentTime),i.gain.setTargetAtTime(0,e.currentTime,.015)}}}e.exports={initialize:function(){t=new(window.AudioContext||window.webkitAudioContext),n.a=o(t,0,225),n.s=o(t,225,450),n.d=o(t,450,700),n.f=o(t,700,1e3),n.v=o(t,1e3,1400),n.b=o(t,1400,2e3),n.h=o(t,2e3,2700),n.j=o(t,2700,3800),n.k=o(t,3800,5400),n.l=o(t,5400,7500),n[" "]=function(e){const t=e.createBuffer(1,8192,e.sampleRate),n=t.getChannelData(0);for(let e=0;e<8192;++e)n[e]=Math.random();const o=e.createBufferSource();o.buffer=t,o.loop=!0;const a=e.createBiquadFilter();a.type="bandpass",a.frequency.value=5e3,a.Q.value=.5;const i=e.createGain();return i.gain.value=0,o.connect(a),a.connect(i),i.connect(e.destination),o.start(),{start(){i.gain.setTargetAtTime(.75,e.currentTime,.015)},stop(){i.gain.setTargetAtTime(0,e.currentTime,.015)},panic(){i.gain.cancelScheduledValues(e.currentTime),i.gain.setTargetAtTime(0,e.currentTime,.015)}}}(t)},updateState(e){const[t]=Object.keys(e);e[t]?n[t]&&n[t].start():n[t]&&n[t].stop()},clearState(){Object.keys(n).forEach((e=>n[e].panic()))}}}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="https://griffin.moe/voder/",(()=>{"use strict";var e=n(626),t=n.n(e),o=n(155),a=n.n(o);const i=[{boundKey:"a",displayName:"A",hitRegionName:"band0",buttonBounds:[.01,.11,.08,.45],textBounds:[.0375,.35]},{boundKey:"s",displayName:"S",hitRegionName:"band1",buttonBounds:[.11,.06,.08,.45],textBounds:[.1425,.3]},{boundKey:"d",displayName:"D",hitRegionName:"band2",buttonBounds:[.21,.01,.08,.45],textBounds:[.2425,.25]},{boundKey:"f",displayName:"F",hitRegionName:"band3",buttonBounds:[.31,.06,.08,.45],textBounds:[.3425,.3]},{boundKey:"v",displayName:"V",hitRegionName:"band4",buttonBounds:[.41,.11,.08,.45],textBounds:[.44,.35]},{boundKey:" ",displayName:"Space",hitRegionName:"noise_band",buttonBounds:[.1,.8,.3,.15],textBounds:[.21,.9]},{boundKey:"b",displayName:"B",hitRegionName:"band5",buttonBounds:[.51,.11,.08,.45],textBounds:[.545,.35]},{boundKey:"h",displayName:"H",hitRegionName:"band6",buttonBounds:[.61,.06,.08,.45],textBounds:[.64,.3]},{boundKey:"j",displayName:"J",hitRegionName:"band7",buttonBounds:[.71,.01,.08,.45],textBounds:[.7425,.25]},{boundKey:"k",displayName:"K",hitRegionName:"band8",buttonBounds:[.81,.06,.08,.45],textBounds:[.8425,.3]},{boundKey:"l",displayName:"L",hitRegionName:"band9",buttonBounds:[.91,.11,.08,.45],textBounds:[.945,.35]}],d=(n.p,n.p,n.p,n.p,n.p,document.getElementById("canvas-container")),r=document.getElementById("console-display");let u={},s=[];function c(){r.width=d.clientWidth,r.height=d.clientHeight,s=i.map((e=>{const t=d.clientWidth,n=d.clientHeight,[o,a,i,r]=e.buttonBounds,[u,s]=e.textBounds;return{...e,buttonBounds:[o*t,a*n,i*t,r*n],textBounds:[u*t,s*n]}})),a().render(s)}window.addEventListener("resize",c,!1),window.addEventListener("orientationchange",c,!1),c(),window.addEventListener("keydown",(function(e){e.target===document.body&&e.preventDefault();const n=e.key||String.fromCharCode(e.keyCode).toLowerCase();t().updateState({[n]:!0}),a().updateState({[n]:!0}),a().render(s)})),window.addEventListener("keyup",(function(e){e.target===document.body&&e.preventDefault();const n=e.key||String.fromCharCode(e.keyCode).toLowerCase();t().updateState({[n]:!1}),a().updateState({[n]:!1}),a().render(s)})),r.addEventListener("touchstart",(function(e){const n=r.getBoundingClientRect();for(let o=0;o<e.touches.length;++o){const i=(e.touches[o].clientX-n.left)*(r.width/n.width),d=(e.touches[o].clientY-n.top)*(r.height/n.height);for(let n=0;n<s.length;++n){const[r,c,l,p]=s[n].buttonBounds;i>=r&&i<=r+l&&d>=c&&d<=c+p&&(u[e.touches[o].identifier]=s[n].boundKey,t().updateState({[s[n].boundKey]:!0}),a().updateState({[s[n].boundKey]:!0}),a().render(s))}}})),r.addEventListener("touchend",(function(e){for(let n=0;n<e.changedTouches.length;++n)t().updateState({[u[e.changedTouches[n].identifier]]:!1}),a().updateState({[u[e.changedTouches[n].identifier]]:!1}),a().render(s),u[e.changedTouches[n].identifier]=""})),r.addEventListener("touchcancel",(function(e){u={},t().clearState(),a().clearState(),a().render(s)})),document.querySelector("#start-audio-btn").addEventListener("click",(function(){t().initialize(),document.querySelector("#start-audio-overlay").style="animation-name: disappear;"})),document.querySelector("#start-audio-overlay").addEventListener("animationend",(function(){this.remove()})),r.addEventListener("contextmenu",(function(e){return e.preventDefault(),e.stopPropagation(),!1})),new FontFace("Poiret One",`url(${n.p}/assets/PoiretOne-Regular.woff)`).load().then((()=>{a().render(s)}),(e=>{console.error(e)}))})()})();